(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{165:function(e){e.exports=JSON.parse('{"signInEnabled":true}')},175:function(e,t,a){e.exports=a(289)},180:function(e,t,a){},185:function(e,t){},187:function(e,t){},197:function(e,t){},199:function(e,t){},226:function(e,t){},227:function(e,t){},232:function(e,t){},234:function(e,t){},258:function(e,t){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=(a(180),a(22)),l=a(324),u=a(325),m=a(337),E=a(159),s=a.n(E),f=function(e){var t=e.trim().toLowerCase(),a=s.a.createHash("md5").update(t,"binary").digest("hex");return"https://www.gravatar.com/avatar/".concat(a,"/?d=robohash")},p=a(333),_=a(97),A=a.n(_),d=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_FIREBASE_API_KEY:"AIzaSyC-JTU4A_RcX6WZcNjfuHf0A4F4Y-9l24w",REACT_APP_FIREBASE_AUTH_DOMAIN:"alpaca-dice-chat.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://alpaca-dice-chat-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"alpaca-dice-chat",REACT_APP_FIREBASE_STORAGE_BUCKET:"alpaca-dice-chat.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"956525735606",REACT_APP_FIREBASE_APP_ID:"1:956525735606:web:c3237851cdc71b9c6fc017"}),b={apiKey:d.REACT_APP_FIREBASE_API_KEY,authDomain:d.REACT_APP_FIREBASE_AUTH_DOMAIN,databaseURL:d.REACT_APP_FIREBASE_DATABASE_URL,projectId:d.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:d.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:d.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:d.REACT_APP_FIREBASE_APP_ID};A.a.initializeApp(b);var v=A.a.database().ref("messages"),R=function(e){var t=e.name,a=e.text;v.push({name:t,text:a})},S=function(e){var t=e.inputEl,a=e.name,c=e.setText,o=e.text,l=Object(n.useState)(!1),u=Object(i.a)(l,2),m=u[0],E=u[1];return r.a.createElement(p.a,{autoFocus:!0,fullWidth:!0,inputRef:t,onChange:function(e){return c(e.target.value)},onKeyDown:function(e){if(!m){var t=e.target.value;""!==t&&"Enter"===e.key&&(R({name:a,text:t}),c(""),e.preventDefault())}},onCompositionStart:function(){return E(!0)},onCompositionEnd:function(){return E(!1)},value:o})},O=a(323),P=a(164),T=a.n(P),I=function(e){var t=e.inputEl,a=e.name,n=e.setText,c=e.text;return r.a.createElement(O.a,{disabled:""===c,onClick:function(){R({name:a,text:c}),n(""),t.current.focus()}},r.a.createElement(T.a,null))},g=Object(l.a)({root:{gridRow:2,margin:"26px"}}),h=function(e){var t=e.name,a=Object(n.useRef)(null),c=Object(n.useState)(""),o=Object(i.a)(c,2),l=o[0],E=o[1],s=g(),p=f(t);return r.a.createElement("div",{className:s.root},r.a.createElement(u.a,{container:!0},r.a.createElement(u.a,{item:!0,xs:1},r.a.createElement(m.a,{src:p})),r.a.createElement(u.a,{item:!0,xs:10},r.a.createElement(S,{inputEl:a,name:t,setText:E,text:l})),r.a.createElement(u.a,{item:!0,xs:1},r.a.createElement(I,{inputEl:a,name:t,setText:E,text:l}))))},C=a(166),j=a(322),x=a(326),y=a(327),B=a(328),D=a(59),N=Object(l.a)((function(){return{inline:{display:"inline"}}})),w=function(e){var t=e.isLastItem,a=e.name,c=e.text,o=Object(n.useRef)(null),i=N(),l=f(a);return Object(n.useEffect)((function(){t&&o.current.scrollIntoView({behavior:"smooth"})}),[t]),r.a.createElement(x.a,{divider:!0,ref:o},r.a.createElement(y.a,null,r.a.createElement(m.a,{src:l})),r.a.createElement(B.a,{primary:a,secondary:r.a.createElement(D.a,{component:"span",variant:"body2",className:i.inline,color:"textPrimary"},c)}))},F=Object(l.a)({root:{gridRow:1,overflow:"auto",width:"100%"}}),k=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=F();Object(n.useEffect)((function(){v.orderByKey().limitToLast(15).on("value",(function(e){var t=e.val();if(null!==t){var a=Object.entries(t).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(C.a)({key:a},n)}));c(a)}}))}),[]);var l=a.length;return r.a.createElement(j.a,{className:o.root},a.map((function(e,t){var a=e.key,n=e.name,c=e.text,o=l===t+1;return r.a.createElement(w,{key:a,name:n,text:c,isLastItem:o})})))},K=Object(l.a)({root:{display:"grid",height:"100vh",gridTemplateRows:"1fr auto"}}),U=function(e){var t=e.name,a=K();return r.a.createElement("div",{className:a.root},r.a.createElement(k,null),r.a.createElement(h,{name:t}))},L=a(332),W=a(331),G=a(329),H=a(334),J=a(330);function M(){return r.a.createElement(D.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(G.a,{color:"inherit",href:"https://alpaca-connect.com/",target:"_blank",rel:"noopener"},"\u30a2\u30eb\u30d1\u30ab\u30b3\u30cd\u30af\u30c8"))}var V=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Y(e){var t=e.setName,a=V(),c=Object(n.useState)(!0),o=Object(i.a)(c,2),l=o[0],u=o[1],m=Object(n.useState)(""),E=Object(i.a)(m,2),s=E[0],f=E[1],_=Object(n.useState)(!1),A=Object(i.a)(_,2),d=A[0],b=A[1];return Object(n.useEffect)((function(){u(""===s)}),[s]),r.a.createElement(J.a,{component:"main",maxWidth:"xs"},r.a.createElement(W.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(D.a,{component:"h1",variant:"h5"},"\u30c1\u30e3\u30c3\u30c8\u3078\u3088\u3046\u3053\u305d"),r.a.createElement("form",{className:a.form,noValidate:!0},r.a.createElement(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"\u30e6\u30fc\u30b6\u30fc\u540d",name:"name",autoFocus:!0,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){d||"Enter"===e.key&&(t(e.target.value),e.preventDefault())},onCompositionStart:function(){return b(!0)},onCompositionEnd:function(){return b(!1)}}),r.a.createElement(L.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,disabled:l,onClick:function(){t(s)}},"\u306f\u3058\u3081\u308b"))),r.a.createElement(H.a,{mt:8},r.a.createElement(M,null)))}var z=a(165),q=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return z.signInEnabled&&""===a?r.a.createElement(Y,{setName:c}):r.a.createElement(U,{name:a})};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root"))}},[[175,1,2]]]);
//# sourceMappingURL=main.f65d590f.chunk.js.map